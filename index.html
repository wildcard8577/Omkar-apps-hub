<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<title>Super Bird Pro + Ads</title>

<style>
body {
    margin: 0;
    overflow: hidden;
    background: #87CEEB;
    font-family: Arial, sans-serif;
}
canvas {
    display: block;
    margin: 0 auto;
}
#ui {
    position: absolute;
    width: 100%;
    top: 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: white;
    pointer-events: none;
    z-index: 10;
}
.score-text {
    font-size: 50px;
    font-weight: 900;
    text-shadow: 3px 3px 0px #000;
}
.high-score {
    font-size: 20px;
    font-weight: bold;
    text-shadow: 2px 2px 0px #000;
    color: #FFD700;
}
#adsterra-banner {
    position: fixed;
    bottom: 0;
    width: 100%;
    text-align: center;
    z-index: 20;
}
</style>
</head>

<body>

<div id="ui">
    <div class="score-text" id="score">0</div>
    <div class="high-score" id="highScore">Best: 0</div>
</div>

<canvas id="gameCanvas"></canvas>

<!-- ADSTERRA BANNER -->
<div id="adsterra-banner">
<script>
  atOptions = {
    'key' : 'cb751c82e052e75ebe39907620002ba0',
    'format' : 'iframe',
    'height' : 50,
    'width' : 320,
    'params' : {}
  };
</script>
<script src="https://www.highperformanceformat.com/cb751c82e052e75ebe39907620002ba0/invoke.js"></script>
</div>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");
const scoreEl = document.getElementById("score");
const highScoreEl = document.getElementById("highScore");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight - 60;

const GRAVITY = 0.3;
const JUMP = -6;
const PIPE_WIDTH = 75;
const PIPE_GAP = 230;
const PIPE_DISTANCE = 350;

let bird = { x: 70, y: canvas.height/2, r: 20, v: 0 };
let pipes = [];
let score = 0;
let highScore = localStorage.getItem("birdHighScore") || 0;
let gameOn = true;

highScoreEl.innerText = "Best: " + highScore;

function newPipe() {
    let min = 100;
    let max = canvas.height - PIPE_GAP - min;
    let top = Math.random() * (max - min) + min;
    pipes.push({ x: canvas.width, top: top, passed: false });
}

function resetGame() {
    bird.y = canvas.height/2;
    bird.v = 0;
    pipes = [];
    score = 0;
    scoreEl.innerText = 0;
    gameOn = true;
    newPipe();
}

function endGame() {
    gameOn = false;
    if (score > highScore) {
        highScore = score;
        localStorage.setItem("birdHighScore", highScore);
        highScoreEl.innerText = "Best: " + highScore;
    }
}

function tap() {
    if (!gameOn) resetGame();
    else bird.v = JUMP;
}

window.addEventListener("touchstart", tap);
window.addEventListener("mousedown", tap);

function update() {
    if (!gameOn) return;

    bird.v += GRAVITY;
    bird.y += bird.v;

    if (pipes.length === 0 || pipes[pipes.length-1].x < canvas.width - PIPE_DISTANCE) {
        newPipe();
    }

    pipes.forEach((p,i)=>{
        p.x -= 3.8;

        if (
            bird.x + bird.r > p.x &&
            bird.x - bird.r < p.x + PIPE_WIDTH &&
            (bird.y - bird.r < p.top || bird.y + bird.r > p.top + PIPE_GAP)
        ) endGame();

        if (!p.passed && p.x < bird.x) {
            score++;
            p.passed = true;
            scoreEl.innerText = score;
        }

        if (p.x + PIPE_WIDTH < 0) pipes.splice(i,1);
    });

    if (bird.y + bird.r > canvas.height || bird.y - bird.r < 0) endGame();
}

function draw() {
    ctx.fillStyle = "#87CEEB";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    pipes.forEach(p=>{
        ctx.fillStyle = "#2ecc71";
        ctx.fillRect(p.x,0,PIPE_WIDTH,p.top);
        ctx.fillRect(p.x,p.top+PIPE_GAP,PIPE_WIDTH,canvas.height);
    });

    // BIRD WITH FACE
    ctx.save();
    ctx.translate(bird.x,bird.y);
    ctx.rotate(bird.v*0.05);

    ctx.beginPath();
    ctx.arc(0,0,bird.r,0,Math.PI*2);
    ctx.fillStyle="#FFD700";
    ctx.fill();
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(8,-6,5,0,Math.PI*2);
    ctx.fillStyle="white";
    ctx.fill();
    ctx.stroke();

    ctx.beginPath();
    ctx.arc(9,-6,2,0,Math.PI*2);
    ctx.fillStyle="black";
    ctx.fill();

    ctx.beginPath();
    ctx.moveTo(15,0);
    ctx.lineTo(25,5);
    ctx.lineTo(15,10);
    ctx.closePath();
    ctx.fillStyle="orange";
    ctx.fill();
    ctx.stroke();

    ctx.restore();

    if (!gameOn) {
        ctx.fillStyle="rgba(0,0,0,0.7)";
        ctx.fillRect(0,0,canvas.width,canvas.height);
        ctx.fillStyle="white";
        ctx.font="30px Arial";
        ctx.textAlign="center";
        ctx.fillText("OUT! SCORE: "+score, canvas.width/2, canvas.height/2);
        ctx.font="20px Arial";
        ctx.fillText("TAP TO TRY AGAIN", canvas.width/2, canvas.height/2+40);
    }

    update();
    requestAnimationFrame(draw);
}

newPipe();
draw();
</script>

<div style="position:fixed;bottom:55px;width:100%;text-align:center;color:white;font-weight:bold;">
Made by Omkar
</div>

</body>
</html>